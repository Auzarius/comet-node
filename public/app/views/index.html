<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Comet.node | Dev</title>

	<!-- FOR ANGULAR ROUTING -->
	<base href="/">
    <meta name="viewport" content="width=device-width">
	<!-- CSS  -->
	<!-- load bootstrap from CDN and custom CSS -->
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.1/paper/bootstrap.min.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css">
	<link rel="stylesheet" href="assets/css/style.css">

	<!-- JS -->
	<!-- load angular and angular-route via CDN -->
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-route.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-animate.js"></script>

	<!-- controllers -->
	<script src="app/controllers/mainCtrl.js"></script>
	<script src="app/controllers/userCtrl.js"></script>
	<script src="app/controllers/ticketCtrl.js"></script>

	<!-- services -->
	<script src="app/services/authService.js"></script>
	<script src="app/services/userService.js"></script>
	<script src="app/services/ticketService.js"></script>

	<!-- main Angular app files -->
	<script src="app/app.routes.js"></script>
	<script src="app/app.js"></script>
	
	<script src="assets/js/moment.min.js"></script>
	<script src="assets/js/angular-moment.min.js"></script>
</head>
<body ng-app="userApp" ng-controller="mainController as main">

<!-- NAVBAR -->
<header>
	<div class="navbar navbar-inverse custom-navbar" ng-if="main.loggedIn" role='navigation'>
		<div class="container">
			<button type='button' class='navbar-toggle navbar-left pull-left' data-toggle='collapse' data-target='.navbar-collapse'>
				<span class='sr-only'>Toggle Navigation</span>
				<span class='icon-bar'></span>
				<span class='icon-bar'></span>
				<span class='icon-bar'></span>
			</button>
			
			<div class="navbar-header">
				<a href="/" class="navbar-brand" rel='home' style='margin-top: -4px;'>
					<span class='node-comet'> Comet</span>
					<span class='node-header'>.node</span>
				</a>
			</div>	
			<ul class='nav navbar-nav navbar-left collapse navbar-collapse'>
				<li><a href="/tickets"><span class="glyphicon glyphicon-edit"></span> Tickets</a></li>
				<li><a href="/users"><span class="glyphicon glyphicon-user"></span> Users</a></li>
				
			</ul>
			<ul class="nav navbar-nav navbar-right visible-sm visible-md visible-lg">
				
				<li ng-if="!main.loggedIn"><a href="/login">Login</a></li>
				<li ng-if="main.loggedIn" class='dropdown'>
					<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
						<i class="glyphicon glyphicon-user"></i><span ng-cloak>&nbsp;&nbsp;{{ main.user.firstName}}&nbsp;</span><i class='caret'></i>
					</a>
					<ul class="dropdown-menu pull-right">
						<li>
							<a href="/profile" ng-href="/profile">
								<i class="glyphicon glyphicon-cog"></i> Profile
							</a>
						</li>
						<li>
							<a href="#" ng-click="main.doLogout()">
								<i class="glyphicon glyphicon-minus"></i> 
								Logout
							</a>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
</header>

<ul class="visible-xs fixed-ucp">
	<li ng-if="main.loggedIn" class='dropdown fixed-ucp'>
		<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
			<i class="glyphicon glyphicon-user"></i><span ng-cloak>&nbsp;&nbsp;{{ main.user.firstName}}&nbsp;</span><i class='caret'></i>
		</a>
		<ul class="dropdown-menu pull-right">
			<li>
				<a href="/profile" ng-href="/profile">
					<i class="glyphicon glyphicon-cog"></i> Profile
				</a>
			</li>
			<li>
				<a href="#" ng-click="main.doLogout()">
					<i class="glyphicon glyphicon-minus"></i> 
					Logout
				</a>
			</li>
		</ul>
	</li>
</ul>
<div class='clearfix'></div>	
			
<main class="container">
	<!-- ANGULAR VIEWS -->
	<div ng-view></div>
</main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<script>
	$(document).ready(function () {
		$(".navbar-nav li a").click(function(event) {
			$(".navbar-collapse").collapse('hide');
  		});
	});
</script>
</body>
</html>