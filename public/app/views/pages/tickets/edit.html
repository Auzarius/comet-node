<div class="show-hide-message fixed" ng-show="ticket.message">
	<div class="row alert alert-info alert-dismissable">
		<div class='col-xs-11'>{{ ticket.message }}</div>
		<button type="button" class="close" ng-click="ticket.message = ''" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
</div>

<div class="page-header">
	<h1>
		Edit Ticket #{{ ticket.ticketData.id }}
		<a ng-href="/tickets/{{ticket.ticketData.id}}" class="btn btn-default">
			<span class="glyphicon glyphicon-edit"></span> 
			View Ticket
		</a>
	</h1>
	
</div>

<form class="form-horizontal" ng-submit="ticket.saveTicket()" id='ticketform' name='ticketform' novalidate>
	<!-- Customer section -->
	<div>
		<h4>Customer Information</h4>
	</div>
	
	<div class="form-group has-feedback" ng-class="[ ticketform.customer.$invalid && !ticketform.customer.$pristine ? 'has-error' : '', ticketform.customer.$valid && !ticketform.customer.$pristine ? 'has-success' : '' ]">
		<label class="col-sm-2 control-label" for="customer">Company</label>
		<div class="col-sm-6">
			<input type="text" name="customer" class="form-control" ng-model="ticket.ticketData.customer" required>
			<span ng-show="ticketform.customer.$invalid && !ticketform.customer.$pristine" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
			<p ng-if="ticketform.customer.$invalid && !ticketform.customer.$pristine" class="help-block alert alert-info" style="color: white;">Enter a valid customer name using only letters and proper capitalization.</p>
			<span ng-show="!ticketform.customer.$invalid && !ticketform.customer.$pristine" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
		</div>
	</div>
	
	<div class="form-group">
		<label class="col-sm-2 control-label">Street</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.street" name="street" required />
		</div>
	</div>

	<div class="form-group">
		<label class="col-sm-2 control-label">City</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.city" name="city" required />
		</div>
	</div>
	
	<div class="form-group">
		<label class="col-sm-2 control-label">State</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.state" name="state" required />
		</div>
	</div>
	
	<div class="form-group">
		<label class="col-sm-2 control-label">Zipcode</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.zipcode" name="zipcode" />
		</div>
	</div>
	
	<!-- Indicator Section -->
	<div>
		<br/>
		<h4>Indicator Information</h4>
	</div>
	
	<div class="form-group">
		<label class="col-sm-2 control-label">Tag</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.indicator_tag" name="indicator_tag" required>
		</div>
	</div>

	<div class="form-group">
		<label class="col-sm-2 control-label">Manufacturer</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.indicator_manu" name="indicator_manu" required>
		</div>
	</div>
	
	<div class="form-group">
		<label class="col-sm-2 control-label">Model</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.indicator_model" name="indicator_model" required>
		</div>
	</div>
	
	<div class="form-group">
		<label class="col-sm-2 control-label">Serial</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.indicator_serial" name="indicator_serial" required>
		</div>
	</div>
	
	<div class="form-group">
		<label class="col-sm-2 control-label">Capacity</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.scale_capacity" name="scale_capacity" required>
		</div>
	</div>	
	
	<div class="form-group">
		<label class="col-sm-2 control-label">Divisions</label>
		<div class="col-sm-6">
			<input type="text" name='divisions' class="form-control" ng-model="ticket.ticketData.scale_divisions" name="scale_divisions" required>
		</div>
	</div>
	
	<div class="form-group">
		<label class="col-sm-2 control-label">Units</label>
		<div class="col-sm-6">
			<select class="form-control" ng-model="ticket.ticketData.units" name="units" required>
				<option value='g'>Grams (g)</option>
				<option value='kg'>Kilograms (kg)</option>
				<option value='oz'>Ounces (oz)</option>
				<option value='lb' selected>Pounds (lb)</option>
			</select>
		</div>
	</div>
	
	<!-- Scale Base Section -->
	<div>
		<br/>
		<h4>Scale Base Information (Optional)</h4>
	</div>

	<div class="form-group">
		<label class="col-sm-2 control-label">Manufacturer</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.scale_manu" name="scale_manu">
		</div>
	</div>
	
	<div class="form-group">
		<label class="col-sm-2 control-label">Model</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.scale_model" name="scale_model">
		</div>
	</div>
	
	<div class="form-group">
		<label class="col-sm-2 control-label">Serial</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" ng-model="ticket.ticketData.scale_serial" name="scale_serial">
		</div>
	</div>
	
	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-6">
			<button type="submit" class="btn btn-success btn-lg btn-block" ng-disabled='ticketform.$invalid'>Edit Ticket</button>
		</div>
	</div>

</form>

<!--
<div class="row show-hide-message" ng-show="ticket.message">
	<div class="col-sm-6 col-sm-offset-2">
		
		<div class="alert alert-info">
			{{ ticket.message }}
		</div>

	</div>
</div>
-->