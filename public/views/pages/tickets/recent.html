<div class="show-hide-message fixed" ng-show="ticket.message">
	<div class="row alert alert-info alert-dismissable">
		<div class='col-xs-11'>{{ ticket.message }}</div>
		<button type="button" class="close" ng-click="ticket.message = ''" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
</div>

<div class="page-header">
	<h1>
		Recent Tickets
		<a href="/tickets/create" class="btn btn-default">
			<span class="glyphicon glyphicon-plus"></span> 
			New Ticket
		</a>
		<a href="/tickets" class="btn btn-default">
			<span class="glyphicon glyphicon-chevron-left"></span> 
			Active Tickets
		</a>
		<a href="/tickets/all" class="btn btn-default" ng-if="main.location != '/tickets/all'">
			<span class="glyphicon glyphicon-edit"></span> 
			All Tickets
		</a>
		
	</h1>
	<i>Tickets modified within the last 7 days</i>

</div>

<div class="jumbotron text-center" ng-show="ticket.processing && !ticket.tickets">
	<span class="glyphicon glyphicon-repeat spinner"></span>
	<h3>Loading Tickets...</h3>
</div>

<div class="jumbotron text-center" ng-show="!ticket.processing && ( ticket.tickets.length < 1 || !ticket.tickets )">
	<p>There are no tickets available at this time or a connection to the server could not be made.</p>
</div>

<table ng-cloak id="tickets" class="table table-bordered tbody-striped" ng-show="ticket.tickets && ticket.tickets.length > 0">
	<thead>
		<tr>
			<th></th>
			<th>Company</th>
			<th>Status</th>
			<th>Tag #</th>	
			<th>Manufacturer</th>
			<th>Model</th>
		</tr>
	</thead>
	<tbody ng-repeat="_ticket in ticket.tickets">
			<tr>
				<td><a class='btn btn-primary btn-block' ng-href='/tickets/{{ _ticket.id }}'>View Ticket</a></td>
				<td>{{ _ticket.customer }}</td>
				<td>{{ _ticket.status }}</td>
				<td>{{ _ticket.indicator_tag }}</td>
				<td>{{ _ticket.indicator_manu }}</td>
				<td>{{ _ticket.indicator_model }}</td>
			</tr>
	</tbody>
</table>
